# EduGameHQ åŸåˆ›æ¸¸æˆé›†æˆå®Œæ•´æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬æŒ‡å—è¯¦ç»†è¯´æ˜å¦‚ä½•å°†åŸåˆ›HTML5æ¸¸æˆé›†æˆåˆ°EduGameHQ.comæ•™è‚²æ¸¸æˆå¹³å°ä¸­ï¼ŒåŒ…æ‹¬æŠ€æœ¯æ¶æ„ã€éƒ¨ç½²æµç¨‹ã€å®‰å…¨é…ç½®å’Œæ€§èƒ½ä¼˜åŒ–ç­‰æ–¹é¢ã€‚

### ğŸ¯ ç›®æ ‡
- ä¸ºæ— æœåŠ¡ç«¯çš„é™æ€ç½‘ç«™æä¾›åŸåˆ›æ¸¸æˆæ‰˜ç®¡è§£å†³æ–¹æ¡ˆ
- ç¡®ä¿æ¸¸æˆå®‰å…¨æ€§å’Œå„¿ç«¥å‹å¥½æ€§
- å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œç®¡ç†æµç¨‹
- ä¼˜åŒ–æ¸¸æˆåŠ è½½æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å½“å‰ç½‘ç«™æ¶æ„åˆ†æ
- **æ¡†æ¶**: Astro 5.0 + React 19
- **æ‰˜ç®¡**: Cloudflare Pages (é™æ€ç½‘ç«™)
- **æ¸¸æˆæ•°æ®**: JSONæ–‡ä»¶é©±åŠ¨ (`src/data/games.json`)
- **ç¬¬ä¸‰æ–¹é›†æˆ**: ä¸»è¦é€šè¿‡iframeåµŒå…¥å¤–éƒ¨æ¸¸æˆ
- **CDN**: Cloudflareå…¨çƒCDNåŠ é€Ÿ

### åŸåˆ›æ¸¸æˆé›†æˆç­–ç•¥
æˆ‘ä»¬é‡‡ç”¨**GitHub Pagesæ‰˜ç®¡**ä½œä¸ºä¸»è¦è§£å†³æ–¹æ¡ˆï¼š

#### âœ… ä¼˜åŠ¿
- **å…è´¹**: GitHub Pageså®Œå…¨å…è´¹
- **CDNåŠ é€Ÿ**: GitHubå…¨çƒCDNç½‘ç»œ
- **ç‰ˆæœ¬æ§åˆ¶**: Gitè‡ªåŠ¨ç‰ˆæœ¬ç®¡ç†
- **è‡ªåŠ¨éƒ¨ç½²**: æ¨é€å³éƒ¨ç½²
- **è‡ªå®šä¹‰åŸŸå**: æ”¯æŒgames.edugamehq.com
- **SSLè¯ä¹¦**: è‡ªåŠ¨HTTPSåŠ å¯†

#### ğŸ“Š å®¹é‡è§„åˆ’
- **ä»“åº“é™åˆ¶**: 1GB (è¶³å¤Ÿå®¹çº³æ•°ç™¾ä¸ªå°å‹æ¸¸æˆ)
- **å•æ–‡ä»¶é™åˆ¶**: 100MB
- **å½“å‰æ¸¸æˆ**: 5ä¸ªæ¸¸æˆï¼Œæ€»è®¡69.2MB
- **æ‰©å±•æ€§**: å¯å®¹çº³çº¦15-20ä¸ªç±»ä¼¼è§„æ¨¡çš„æ¸¸æˆé›†åˆ

## ğŸš€ éƒ¨ç½²æµç¨‹

### ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡

1. **ç¡®ä¿Node.jsç¯å¢ƒ**
   ```bash
   node --version  # éœ€è¦ v18+
   npm --version
   ```

2. **æ£€æŸ¥Gité…ç½®**
   ```bash
   git config --global user.name "ä½ çš„ç”¨æˆ·å"
   git config --global user.email "ä½ çš„é‚®ç®±"
   ```

### ç¬¬äºŒæ­¥ï¼šæ¸¸æˆåˆ†æ

ä½¿ç”¨æˆ‘ä»¬çš„åˆ†æå·¥å…·æ£€æŸ¥æ¸¸æˆé›†åˆï¼š

```bash
# åˆ†ææ¸¸æˆç›®å½•
node scripts/test-deploy.mjs --source=./temp-games/ellie
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
ğŸ® å‘ç° 5 ä¸ªæ¸¸æˆï¼Œæ€»å¤§å°: 69.2 MB

ğŸ“‹ æ¸¸æˆæ•°æ®é¢„è§ˆ:
æ¸¸æˆ: Animal Adventure
Slug: animal-adventure  
å¤§å°: 1.6 MB
URL: https://games.edugamehq.com/games/animal-adventure/
```

### ç¬¬ä¸‰æ­¥ï¼šGitHubä»“åº“è®¾ç½®

1. **åˆ›å»ºGitHubä»“åº“**
   - ä»“åº“å: `EduGameHQ-Games`
   - è®¾ç½®ä¸ºPublicï¼ˆGitHub Pageséœ€è¦ï¼‰
   - ä¸è¦åˆå§‹åŒ–README

2. **é…ç½®è‡ªå®šä¹‰åŸŸå**
   - åœ¨ä»“åº“Settings > Pagesä¸­è®¾ç½®
   - è‡ªå®šä¹‰åŸŸå: `games.edugamehq.com`
   - å¯ç”¨HTTPSå¼ºåˆ¶

3. **DNSé…ç½®**
   ```
   CNAME games.edugamehq.com -> username.github.io
   ```

### ç¬¬å››æ­¥ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²

è¿è¡Œæˆ‘ä»¬çš„éƒ¨ç½²è„šæœ¬ï¼š

```bash
# å®Œæ•´éƒ¨ç½²æµç¨‹
node scripts/deploy-to-github.mjs --source=./temp-games/ellie
```

**éƒ¨ç½²è„šæœ¬åŠŸèƒ½**ï¼š
- âœ… è‡ªåŠ¨åˆ†ææ¸¸æˆç›®å½•
- âœ… åˆ›å»ºæˆ–æ›´æ–°GitHubä»“åº“
- âœ… å¤åˆ¶æ¸¸æˆæ–‡ä»¶åˆ°æ­£ç¡®ç›®å½•ç»“æ„
- âœ… ç”Ÿæˆæ¸¸æˆæ¸…å•å’Œå…ƒæ•°æ®
- âœ… æ›´æ–°ä¸»ç½‘ç«™æ¸¸æˆæ•°æ®
- âœ… è‡ªåŠ¨Gitæäº¤å’Œæ¨é€

### ç¬¬äº”æ­¥ï¼šä¸»ç½‘ç«™é›†æˆ

éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨æ›´æ–° `src/data/games.json`ï¼Œæ·»åŠ æ–°æ¸¸æˆï¼š

```json
{
  "slug": "animal-adventure",
  "title": "Animal Adventure",
  "category": "science",
  "iframeUrl": "https://games.edugamehq.com/games/animal-adventure/",
  "description": "Explore the fascinating world of science...",
  "source": "Original",
  "technology": "HTML5",
  "verified": true
}
```

## ğŸ”’ å®‰å…¨é…ç½®

### iframeå®‰å…¨æœºåˆ¶

æˆ‘ä»¬å®ç°äº†å¤šå±‚å®‰å…¨ä¿æŠ¤ï¼š

```typescript
// ä½¿ç”¨å®‰å…¨é…ç½®å·¥å…·
import { IframeSecurityManager } from '@/utils/iframe-security';

const securityConfig = IframeSecurityManager.generateConfig(gameUrl, 'original');
```

#### å®‰å…¨çº§åˆ«
1. **åŸåˆ›æ¸¸æˆ** (é«˜ä¿¡ä»»)
   - å®Œæ•´åŠŸèƒ½æƒé™
   - å…è®¸å…¨å±ã€è‡ªåŠ¨æ’­æ”¾
   - å®½æ¾çš„CSPç­–ç•¥

2. **å¯ä¿¡ç¬¬ä¸‰æ–¹** (ä¸­ç­‰ä¿¡ä»»)
   - åŸºç¡€åŠŸèƒ½æƒé™
   - é™åˆ¶æŸäº›APIè®¿é—®
   - ä¸­ç­‰CSPç­–ç•¥

3. **æœªçŸ¥æ¥æº** (ä½ä¿¡ä»»)
   - æœ€å°æƒé™
   - ä¸¥æ ¼æ²™ç›’é™åˆ¶
   - æœ€ä¸¥æ ¼CSPç­–ç•¥

### CSPç­–ç•¥ç¤ºä¾‹

```html
<!-- åŸåˆ›æ¸¸æˆ -->
<iframe 
  src="https://games.edugamehq.com/games/animal-adventure/"
  sandbox="allow-scripts allow-same-origin allow-forms allow-pointer-lock"
  allow="fullscreen; autoplay; encrypted-media"
  referrerpolicy="strict-origin-when-cross-origin">
</iframe>
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### CDNé…ç½®

```typescript
// ä½¿ç”¨CDNç®¡ç†å™¨
import { CDNManager } from '@/utils/cdn-manager';

const cdn = new CDNManager('github');
const gameUrl = cdn.getGameUrl('animal-adventure');
const thumbnailUrl = cdn.getImageUrl('/games/animal-adventure-thumbnail.webp');
```

### åŠ è½½ä¼˜åŒ–ç­–ç•¥

1. **é¢„è¿æ¥DNS**
   ```html
   <link rel="preconnect" href="https://games.edugamehq.com" crossorigin>
   ```

2. **æ¸¸æˆé¢„åŠ è½½**
   ```html
   <link rel="prefetch" href="https://games.edugamehq.com/games/animal-adventure/">
   ```

3. **å“åº”å¼å›¾ç‰‡**
   ```html
   <img 
     src="https://games.edugamehq.com/images/animal-adventure-640w.webp"
     srcset="https://games.edugamehq.com/images/animal-adventure-320w.webp 320w,
             https://games.edugamehq.com/images/animal-adventure-640w.webp 640w"
     sizes="(max-width: 768px) 100vw, 50vw"
     loading="lazy">
   ```

## ğŸ“ ç›®å½•ç»“æ„

### GitHubæ¸¸æˆä»“åº“ç»“æ„
```
EduGameHQ-Games/
â”œâ”€â”€ README.md                 # ä»“åº“è¯´æ˜
â”œâ”€â”€ index.html               # æ¸¸æˆç´¢å¼•é¡µé¢
â”œâ”€â”€ games-manifest.json      # æ¸¸æˆæ¸…å•æ–‡ä»¶
â”œâ”€â”€ CNAME                    # è‡ªå®šä¹‰åŸŸåé…ç½®
â””â”€â”€ games/                   # æ¸¸æˆç›®å½•
    â”œâ”€â”€ animal-adventure/
    â”‚   â”œâ”€â”€ index.html
    â”‚   â”œâ”€â”€ assets/
    â”‚   â””â”€â”€ ...
    â”œâ”€â”€ animal-matching/
    â”œâ”€â”€ coloring-studio/
    â”œâ”€â”€ princess-castle/
    â””â”€â”€ princess-coffee-shop/
```

### ä¸»ç½‘ç«™é›†æˆ
```
EduGameHQ/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ games.json       # æ›´æ–°çš„æ¸¸æˆæ•°æ®
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ iframe-security.ts  # å®‰å…¨é…ç½®
â”‚   â”‚   â””â”€â”€ cdn-manager.ts      # CDNç®¡ç†
â”‚   â””â”€â”€ pages/
â”‚       â””â”€â”€ games/[slug].astro  # æ¸¸æˆé¡µé¢
â””â”€â”€ scripts/
    â”œâ”€â”€ deploy-to-github.mjs    # éƒ¨ç½²è„šæœ¬
    â””â”€â”€ test-deploy.mjs         # æµ‹è¯•è„šæœ¬
```

## ğŸ”„ æŒç»­é›†æˆ

### GitHub Actionså·¥ä½œæµ

åˆ›å»º `.github/workflows/deploy-games.yml`ï¼š

```yaml
name: Deploy Games to GitHub Pages

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./
```

## ğŸ“Š ç›‘æ§å’Œåˆ†æ

### æ€§èƒ½ç›‘æ§

1. **Core Web Vitals**
   - LCP < 2.5s (æœ€å¤§å†…å®¹ç»˜åˆ¶)
   - FID < 100ms (é¦–æ¬¡è¾“å…¥å»¶è¿Ÿ)
   - CLS < 0.1 (ç´¯ç§¯å¸ƒå±€åç§»)

2. **æ¸¸æˆåŠ è½½ç›‘æ§**
   ```javascript
   // ç›‘æ§iframeåŠ è½½æ—¶é—´
   const iframe = document.querySelector('.game-iframe');
   const startTime = performance.now();
   
   iframe.onload = () => {
     const loadTime = performance.now() - startTime;
     console.log(`æ¸¸æˆåŠ è½½æ—¶é—´: ${loadTime}ms`);
   };
   ```

### ä½¿ç”¨åˆ†æ

- **Google Analytics**: è·Ÿè¸ªæ¸¸æˆè®¿é—®é‡
- **çƒ­åŠ›å›¾**: äº†è§£ç”¨æˆ·äº¤äº’è¡Œä¸º
- **é”™è¯¯ç›‘æ§**: åŠæ—¶å‘ç°æ¸¸æˆåŠ è½½é—®é¢˜

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ¸¸æˆæ— æ³•åŠ è½½**
   - æ£€æŸ¥iframe URLæ˜¯å¦æ­£ç¡®
   - éªŒè¯HTTPSè¯ä¹¦çŠ¶æ€
   - ç¡®è®¤CSPç­–ç•¥é…ç½®

2. **éƒ¨ç½²å¤±è´¥**
   - æ£€æŸ¥GitHubä»“åº“æƒé™
   - éªŒè¯Gité…ç½®
   - ç¡®è®¤æ–‡ä»¶å¤§å°é™åˆ¶

3. **æ€§èƒ½é—®é¢˜**
   - ä¼˜åŒ–æ¸¸æˆèµ„æºå¤§å°
   - å¯ç”¨CDNç¼“å­˜
   - ä½¿ç”¨å›¾ç‰‡å‹ç¼©

### è°ƒè¯•å·¥å…·

```bash
# æ£€æŸ¥æ¸¸æˆå¯è®¿é—®æ€§
curl -I https://games.edugamehq.com/games/animal-adventure/

# æµ‹è¯•DNSè§£æ
nslookup games.edugamehq.com

# éªŒè¯SSLè¯ä¹¦
openssl s_client -connect games.edugamehq.com:443
```

## ğŸ“ˆ æ‰©å±•è®¡åˆ’

### çŸ­æœŸç›®æ ‡ (1-3ä¸ªæœˆ)
- [ ] éƒ¨ç½²å½“å‰5ä¸ªEllieæ¸¸æˆ
- [ ] è®¾ç½®ç›‘æ§å’Œåˆ†æ
- [ ] ä¼˜åŒ–åŠ è½½æ€§èƒ½
- [ ] å®Œå–„é”™è¯¯å¤„ç†

### ä¸­æœŸç›®æ ‡ (3-6ä¸ªæœˆ)
- [ ] é›†æˆæ›´å¤šåŸåˆ›æ¸¸æˆé›†åˆ
- [ ] å®ç°æ¸¸æˆåˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿ
- [ ] æ·»åŠ æ¸¸æˆè¯„åˆ†å’Œè¯„è®ºåŠŸèƒ½
- [ ] å¼€å‘æ¸¸æˆæ¨èç®—æ³•

### é•¿æœŸç›®æ ‡ (6-12ä¸ªæœˆ)
- [ ] è€ƒè™‘Cloudflare R2å‡çº§æ–¹æ¡ˆ
- [ ] å®ç°å¤šè¯­è¨€æ¸¸æˆæ”¯æŒ
- [ ] å¼€å‘æ¸¸æˆç¼–è¾‘å™¨å·¥å…·
- [ ] å»ºç«‹æ¸¸æˆå¼€å‘è€…ç¤¾åŒº

## ğŸ’° æˆæœ¬åˆ†æ

### GitHub Pagesæ–¹æ¡ˆ
- **æ‰˜ç®¡è´¹ç”¨**: å…è´¹
- **åŸŸåè´¹ç”¨**: ~$10/å¹´
- **SSLè¯ä¹¦**: å…è´¹ (Let's Encrypt)
- **CDNæµé‡**: å…è´¹ (GitHub CDN)
- **æ€»æˆæœ¬**: ~$10/å¹´

### æœªæ¥å‡çº§é€‰é¡¹
- **Cloudflare R2**: $0.015/GBå­˜å‚¨ + $0.01/GBæµé‡
- **ä¸“ç”¨CDN**: æ ¹æ®æµé‡è®¡è´¹
- **é«˜çº§ç›‘æ§**: $20-50/æœˆ

## ğŸ¯ ä¸‹ä¸€æ­¥æ“ä½œ

### ç«‹å³æ‰§è¡Œ
1. **åˆ›å»ºGitHubä»“åº“** `EduGameHQ-Games`
2. **é…ç½®DNS** æŒ‡å‘GitHub Pages
3. **è¿è¡Œéƒ¨ç½²è„šæœ¬** éƒ¨ç½²Ellieæ¸¸æˆé›†åˆ
4. **æµ‹è¯•æ¸¸æˆè®¿é—®** ç¡®ä¿æ‰€æœ‰æ¸¸æˆæ­£å¸¸è¿è¡Œ

### éœ€è¦é…ç½®çš„æœåŠ¡
1. **GitHubä»“åº“è®¾ç½®**
   - åˆ›å»ºå…¬å¼€ä»“åº“
   - å¯ç”¨GitHub Pages
   - é…ç½®è‡ªå®šä¹‰åŸŸå

2. **DNSé…ç½®**
   - æ·»åŠ CNAMEè®°å½•
   - éªŒè¯åŸŸåè§£æ

3. **ç›‘æ§è®¾ç½®**
   - Google Analyticsé›†æˆ
   - é”™è¯¯ç›‘æ§é…ç½®
   - æ€§èƒ½ç›‘æ§å¯ç”¨

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. **æ—¥å¿—æ–‡ä»¶**: æŸ¥çœ‹éƒ¨ç½²è„šæœ¬è¾“å‡º
2. **GitHubçŠ¶æ€**: æ£€æŸ¥GitHub Pagesæ„å»ºçŠ¶æ€
3. **DNSä¼ æ’­**: ä½¿ç”¨DNSæ£€æŸ¥å·¥å…·éªŒè¯
4. **æµè§ˆå™¨æ§åˆ¶å°**: æŸ¥çœ‹JavaScripté”™è¯¯

---

**ğŸ‰ æ­å–œï¼** æŒ‰ç…§æœ¬æŒ‡å—ï¼Œä½ ç°åœ¨æ‹¥æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„åŸåˆ›æ¸¸æˆé›†æˆè§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å®‰å…¨ã€é«˜æ•ˆåœ°å°†HTML5æ¸¸æˆé›†æˆåˆ°EduGameHQ.comå¹³å°ä¸­ã€‚

*æœ€åæ›´æ–°: 2024å¹´12æœˆ*